this.hsDatab=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};function o(e){return t=>new Promise(n=>{setTimeout(()=>{n(t)},e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=function(e){return new Promise((t,n)=>{setTimeout(n,e)})},t.delay=o,t.Pace=class{constructor(e=100,t=-1){this.maxConcurrent=-1,this.pace=0,this.waitUntil=0,this.waiting=0,this.started=0,this.pace=e+5,this.maxConcurrent=t}setPace(e){this.pace=e}setMaxConcurrent(e){this.maxConcurrent=e}inQueue(){return this.waiting}inProgress(){return this.started}add(e){return r(this,void 0,void 0,(function*(){const t=Date.now();this.waitUntil<t&&(this.waitUntil=t);const n=Math.max(0,this.waitUntil-t);this.waitUntil+=this.pace+5,this.waiting++,yield o(n)(),yield new Promise(e=>{const t=()=>this.maxConcurrent<0||this.started<this.maxConcurrent?e():setTimeout(t,10);t()}),this.waiting--,this.started++;const r=yield e(Date.now()-t);return this.started--,r}))}},t.promiseChain=function(e,t=[]){return e.reduce((e,t)=>e.then(e=>Promise.resolve(t(e)).then(t=>(e.push(t),e))),Promise.resolve(t))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=new(n(2).Log)("Data");var i;function a(e,t=1970){let n;if(e instanceof Date)return e;if(n=new Date(e),!isNaN(n.getTime())){const r=new RegExp("\\d\\d"+n.getFullYear()%100,"g");if(!e.match(r)){const e=1900+n.getFullYear()%100;n.setFullYear(e<t?e+100:e)}}return n}function s(e,t,n,r){if(void 0===r&&(r=[]),void 0===t)r[0]=0,r[1]=e.length-1;else{let o;switch(n){case i.name:o=e=>r.indexOf(""+e[t])<0?r.push(""+e[t]):"";break;case i.date:o=e=>{let n=a(e[t]);void 0===r[0]&&(r[0]=n),void 0===r[1]&&(r[1]=n),null!=n&&(n<r[0]?r[0]=n:n>r[1]&&(r[1]=n))};break;case i.number:case i.percent:default:o=e=>{let n=parseFloat(e[t].toString());void 0===r[0]&&(r[0]=n),void 0===r[1]&&(r[1]=n),null!=n&&(n<r[0]?r[0]=n:n>r[1]&&(r[1]=n))}}e.forEach(o)}return r}function c(e){if(!e||""===e)return null;if(e instanceof Date)return"date";if("number"==typeof e)return"number";const t=e;if(""+parseFloat(t)===t)return"number";if(t.startsWith("$")&&!isNaN(parseFloat(t.slice(1))))return"currency";if(t.endsWith("%")&&!isNaN(parseFloat(t)))return"percent";if(!isNaN(a(t).getTime()))return"date";switch(t.toLowerCase()){case"null":case"#ref!":break;default:if(e.length>0)return"name"}return null}!function(e){e.number="number",e.name="name",e.date="date",e.currency="currency",e.percent="percent"}(i=t.Types||(t.Types={})),t.findDomain=s;class u{constructor(e){this.data=[],this.meta=[],e&&this.importData(e)}getName(){return this.name}importData(e){if(this.name="data"+Math.round(1e3*Math.random()),e)if(e instanceof Array){const t=e[0],n=e.slice(1);this.setData(n,t)}else e.name&&(this.name=e.name),this.setData(e.rows,e.colNames)}export(){return{rows:this.getData(),colNames:this.colNames()}}getData(){return this.data}getColumn(e){const t=this.colNumber(e);return this.data.map(e=>e[t])}colAdd(e){let t=this.getMeta(e);return void 0===t&&(t=this.meta[e]={},t.name=e,t.column=this.meta.length,this.meta.push(t),t.cast=!1,t.accessed=!1),t}colInitialize(e,t){const n="function"==typeof t;let r=this.getMeta(e);if(!r){if("string"!=typeof e)throw new Error(`column ${e} does not exist in Data`);r=this.colAdd(e)}return this.data.map((e,o)=>e[r.column]=n?t(e[r.column],o,e):t),r.column}colNumber(e){const t=this.getMeta(e);return t?(t.accessed=!0,t.column):void 0}colName(e){var t=this.getMeta(e);if(t)return t.accessed=!0,t.name}colNames(){return this.meta.map(e=>e.name)}colType(e){const t=this.getMeta(e);return t?t.types[0].type:"name"}findDomain(e,t){return s(this.data,this.colNumber(e),this.colType(e),t)}castData(){this.meta.forEach(e=>{const t=e.column;e.cast||this.data.forEach(n=>n[t]=function(e,t){let n=t;switch(e){case"date":return t instanceof Date?t:(n=a(t),isNaN(n.getTime())&&(n=null),n);case"percent":if("string"==typeof t){const e=parseFloat(t);return t.endsWith("%")?e/100:e}return t;case"currency":n="string"==typeof t?t.replace(/[^eE\+\-\.\d]/g,""):t;case"number":return"string"==typeof n&&(n=parseFloat(n)),isNaN(n)&&(n=null),n;default:return""+t}}(e.types[0].type,n[t])),e.cast=!0})}filter(e){return r.filter(this,e)}sort(e,t){let n=e;return t?(t=this.colNumber(t),"descending"===e&&(n=(e,t)=>t>e?1:t<e?-1:0),"ascending"===e&&(n=(e,t)=>t<e?1:t>e?-1:0),this.data.sort((e,r)=>n(e[t],r[t]))):this.data.sort(n),this}map(e,t){const n=e=>e;let r=function(){let t;switch(e){case"cumulate":t=(()=>{let e=0;return(t,n)=>(e+=+t,e)})();break;case"noop":t=n;break;default:t=e}return t}();const o=t?this.colNumber(t):void 0;return new u({colNames:this.colNames(),rows:this.data.map((e,t,n)=>(o?e[o]=r(e[o],o,t,n):n[t]=r(e,t,n),e)),name:this.getName()})}getMeta(e){if(this.meta[e])return this.meta[e].accessed=!0,this.meta[e]}setData(e,t,n=!0){this.meta=[],this.data=e.slice(),t&&t.forEach?(t.forEach(e=>this.colAdd(e)),n&&(t.forEach(e=>this.findTypes(e)),this.castData())):o.warn("invalid names setData:\n"+o.inspect(t,5))}findTypes(e){const t=this.getMeta(e),n=[];Object.keys(u.type).forEach(e=>{const t={type:u.type[e],count:0};n.push(t),n[u.type[e]]=t});for(let t of this.allRows(e)){const e=c(t);null!==e&&n[e].count++}return n.sort((function(e,t){return"currency"===e.type&&e.count>0?-1:"currency"===t.type&&t.count>0?1:t.count-e.count})),t.types=n,n[0].type}*allRows(e){const t=this.colNumber(e);for(let e=0;e<this.data.length;e++)yield this.data[e][t]}}t.Data=u,u.type={number:"number",name:"name",date:"date",currency:"currency",percent:"percent"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.timeout=r.timeout,t.delay=r.delay;var o=n(0);t.Pace=o.Pace;var i=n(0);t.promiseChain=i.promiseChain;var a=n(6);t.shortCheckSum=a.shortCheckSum;var s=n(3);t.date=s.date,t.ms=s.ms;var c=n(7);t.round=c.round;var u=n(8);t.Log=u.Log,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(10))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=[["Jan","January"],["Feb","February"],["Mar","March"],["Apr","April"],["May","May"],["Jun","June"],["Jul","July"],["Aug","August"],["Sep","September"],["Oct","October"],["Nov","November"],["Dec","December"]],o=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]];function i(e,t){let n=""+e;for(;n.length<t;)n="0"+n;return n}t.date=function(e,t=new Date){return"string"!=typeof e||isNaN(t.getTime())?"invalid":e.replace(/%YYYY/g,""+t.getFullYear()).replace(/%YY/g,""+t.getFullYear()%100).replace(/%MMMM/g,r[t.getMonth()][1]).replace(/%MMM/g,r[t.getMonth()][0]).replace(/%MM/g,i(t.getMonth()+1,2)).replace(/%M/g,""+(t.getMonth()+1)).replace(/%DDDD/g,o[t.getDay()][1]).replace(/%DDD/g,o[t.getDay()][0]).replace(/%DD/g,i(t.getDate(),2)).replace(/%D/g,""+t.getDate()).replace(/%hh/g,i(t.getHours(),2)).replace(/%h/g,""+t.getHours()).replace(/%mm/g,i(t.getMinutes(),2)).replace(/%m/g,""+t.getMinutes()).replace(/%ss/g,i(t.getSeconds(),2)).replace(/%jjj/g,i(t.getMilliseconds(),3)).replace(/%jj/g,i(t.getMilliseconds()/10,2)).replace(/%j/g,i(t.getMilliseconds()/100,1))},t.ms={fromMinutes:e=>6e4*e,fromHours:e=>36e5*e,fromDays:e=>864e5*e,fromWeeks:e=>6048e5*e,toMinutes:e=>e/6e4,toHours:e=>e/36e5,toDays:e=>e/864e5,toWeeks:e=>e/6048e5}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.Data=r.Data,t.Types=r.Types},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=new(n(2).Log)("DataFilters");function i(e,t,n,r){const i=r(e),a="function"==typeof t,s="object"==typeof t&&void 0!==t.length;return isNaN(i)?(o.warn(`column name '${e}' cannot be resolved in terminal condition ${e}=${t}`),o.warn(n),!1):a?t(n[i],n):s?0===t.length||t.some(e=>n[i]===e):n[i]===t}t.filter=function(e,t){const n=t=>e.colNumber(t);try{return new r.Data({name:e.getName(),colNames:e.colNames(),rows:e.getData().filter((e,r)=>function e(t,n,r,o,a){let s=!1,c=!0;if(void 0===t)return!0;if("number"==typeof t)return t===r;if("object"!=typeof t)return console.error("unrecognized condition: "+JSON.stringify(t)),!1;{const u=t;if(void 0!==u.length)return void 0===a&&(a=!1),0!==u.length&&(a?u.every(t=>e(t,n,r,o,a)):u.some(t=>e(t,n,r,o,a)));void 0===a&&(a=!0);for(const u in t){let l=a;const f=t;switch(u){case"or":l=e(f.or,n,r,o,!1);break;case"and":l=e(f.and,n,r,o,!0);break;case"not":l=!e(f.not,n,r,o);break;default:l=i(u,t[u],n,o)}if(l){if(s=!0,!a)break}else if(c=!1,a)break}}return a?c:s}(t,e,r,n))})}catch(e){o.warn(e),o.warn(e.stack)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.shortCheckSum=function(e){let t=305419896;for(let n=0;n<e.length;n++)t+=e.charCodeAt(n)*(n+1);return(4294967295&t).toString(16)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.round=function(e,t=0){return e.toFixed(t)}},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=["#008","#080","#800","#066","#660","#606"];class i{constructor(e){this.reportLevel=void 0,this.reportPrefix="",this.maxLength=-1,this.reportPrefix=e}set messageLength(e){this.maxLength=e}get messageLength(){return this.maxLength}level(e,t){let n=i.levels[e]||i.globalLevel,r=this.reportLevel||i.globalLevel;if(void 0===e)n=r;else if(null===e)this.reportLevel=void 0;else if(i.levels[e]){t?i.globalLevel=n:this.reportLevel=n;const e=`new ${t?"global":this.reportPrefix} log level ${n.desc.toUpperCase()} (was ${r.desc.toUpperCase()})`;this.out(n.sym===r.sym?i.DEBUG:i.INFO,e)}else this.out(i.ERROR,`unkown level ${e}; log level remains ${r.sym}`);return n.sym}debug(e){return this.out(i.DEBUG,e)}progress(e){return this.out(i.INFO,e)}info(e){return this.out(i.INFO,e)}warn(e){return this.out(i.WARN,e)}error(e){return e.message?(this.out(i.ERROR,e.message),this.out(i.ERROR,e.stack),e.message):this.out(i.ERROR,e)}out(t,n){let o=i.levels[t];const a=this.reportLevel||i.globalLevel;if(o.importance>=a.importance){"function"==typeof n&&(n=n());const a=r.date(i.dateFormat);let s="string"==typeof n?n:this.inspect(n,0);s.length>this.maxLength&&this.maxLength>0&&(s=`${s.slice(0,this.maxLength/2-2)}...${s.slice(-this.maxLength/2+2)}`);const c=this.makeMessage(s,t,a,o.desc);return"\r"===c.slice(-1)?e.stdout.write(c):console.log(c),n&&n.stack&&console.log(n.stack),s}}makeMessage(e,t,n,r){return`${n} ${this.reportPrefix} ${r} ${e}`}format(e){return null===e?i.dateFormat=i.defDateFormat:e&&(i.dateFormat=e),i.dateFormat}prefix(e){return e&&(this.reportPrefix=e),this.reportPrefix}config(e){void 0!==e.format&&this.format(e.format),void 0!==e.level&&this.level(e.level)}inspect(e,t=3,n="    ",r=o){const i=this;return r&&(n=n.replace(/ /g,"&nbsp;")),function e(t,o,a,s){if(null===t)return"null";if(void 0===t)return"undefined";if("function"==typeof t)return"function";if("string"==typeof t)return`'${t}'`;if("object"==typeof t){if(o<0)return void 0===t.length?"{...}":"[...]";if(void 0!==t.map)return`[${t.map(t=>void 0===t?"":e(t,o-1,a+1,s)).join(", ")}]`;const[c,u]=i.getPrePostfix(n,a,s),l=r?`<b><span style='color:${r[a%r.length]};'>`:"",f=r?"</span></b>":"",h=r?"<br>":"\n";return"{"+h+Object.keys(t).map(r=>`${l}${c}${r}${u}${f}: ${e(t[r],o-1,a+1,s+n)}`).join(","+h)+`${h}${s}}`}return t.toString()}(e,null===t?999:t,0,"")}getPrePostfix(e,t,n){return[`${n}${e}`,""]}}t.Log=i,i.defDateFormat="%YYYY%MM%DD %hh:%mm:%ss.%jjj",i.dateFormat=i.defDateFormat,i.DEBUG="DEBUG",i.INFO="INFO",i.WARN="WARN",i.ERROR="ERROR",i.levels={[i.DEBUG]:{importance:0,sym:i.DEBUG,desc:"DEBUG"},[i.INFO]:{importance:1,sym:i.INFO,desc:"INFO"},[i.WARN]:{importance:2,sym:i.WARN,desc:"WARN"},[i.ERROR]:{importance:3,sym:i.ERROR,desc:"ERROR"}},i.log=new i(""),i.globalLevel=i.levels[i.INFO]}).call(this,n(9))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&m())}function m(){if(!l){var e=s(h);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||s(m)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.uniquefy=function(e,t){const n={};return t?e.filter(e=>!n[e[""+t]]&&(n[e[""+t]]=!0)):e.filter(e=>!n[""+e]&&(n[""+e]=!0))}}]);
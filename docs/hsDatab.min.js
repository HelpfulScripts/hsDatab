this.hsDatab=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const n=r(5),o=new(r(1).Log)("Data");var a;function s(e,t=1970){let r;if(e instanceof Date)return e;if(r=new Date(e),!isNaN(r.getTime())){const n=new RegExp("\\d\\d"+r.getFullYear()%100,"g");if(!e.match(n)){const e=1900+r.getFullYear()%100;r.setFullYear(e<t?e+100:e)}}return r}function i(e,t,r,n){if(void 0===n&&(n=[]),void 0===t)n[0]=0,n[1]=e.length-1;else{let o;switch(r){case a.name:o=e=>n.indexOf(""+e[t])<0?n.push(""+e[t]):"";break;case a.date:o=e=>{let r=s(e[t]);void 0===n[0]&&(n[0]=r),void 0===n[1]&&(n[1]=r),null!=r&&(r<n[0]?n[0]=r:r>n[1]&&(n[1]=r))};break;case a.number:case a.percent:default:o=e=>{let r=parseFloat(e[t].toString());void 0===n[0]&&(n[0]=r),void 0===n[1]&&(n[1]=r),null!=r&&(r<n[0]?n[0]=r:r>n[1]&&(n[1]=r))}}e.forEach(o)}return n}function c(e){if(!e||""===e)return null;if(e instanceof Date)return"date";if("number"==typeof e)return"number";const t=e;if(""+parseFloat(t)===t)return"number";if(t.startsWith("$")&&!isNaN(parseFloat(t.slice(1))))return"currency";if(t.endsWith("%")&&!isNaN(parseFloat(t)))return"percent";if(!isNaN(s(t).getTime()))return"date";switch(t.toLowerCase()){case"null":case"#ref!":break;default:if(e.length>0)return"name"}return null}!function(e){e.number="number",e.name="name",e.date="date",e.currency="currency",e.percent="percent"}(a=t.Types||(t.Types={})),t.findDomain=i;class l{constructor(e){this.data=[],this.meta=[],e&&this.importData(e)}getName(){return this.name}importData(e){if(this.name="data"+Math.round(1e3*Math.random()),e)if(e instanceof Array){const t=e[0],r=e.slice(1);this.setData(r,t)}else e.name&&(this.name=e.name),this.setData(e.rows,e.colNames)}export(){return{rows:this.getData(),colNames:this.colNames()}}getData(){return this.data}getColumn(e){const t=this.colNumber(e);return this.data.map(e=>e[t])}colAdd(e){let t=this.getMeta(e);return void 0===t&&(t=this.meta[e]={},t.name=e,t.column=this.meta.length,this.meta.push(t),t.cast=!1,t.accessed=!1),t}colInitialize(e,t){const r="function"==typeof t;let n=this.getMeta(e);if(!n){if("string"!=typeof e)throw new Error(`column ${e} does not exist in Data`);n=this.colAdd(e)}return this.data.map((e,o)=>e[n.column]=r?t(e[n.column],o,e):t),n.column}colNumber(e){const t=this.getMeta(e);return t?(t.accessed=!0,t.column):void 0}colName(e){var t=this.getMeta(e);if(t)return t.accessed=!0,t.name}colNames(){return this.meta.map(e=>e.name)}colType(e){const t=this.getMeta(e);return t?t.types[0].type:"name"}findDomain(e,t){return i(this.data,this.colNumber(e),this.colType(e),t)}castData(){this.meta.forEach(e=>{const t=e.column;e.cast||this.data.forEach(r=>r[t]=function(e,t){let r=t;switch(e){case"date":return t instanceof Date?t:(r=s(t),isNaN(r.getTime())&&(r=null),r);case"percent":if("string"==typeof t){const e=parseFloat(t);return t.endsWith("%")?e/100:e}return t;case"currency":r="string"==typeof t?t.replace(/[^eE\+\-\.\d]/g,""):t;case"number":return"string"==typeof r&&(r=parseFloat(r)),isNaN(r)&&(r=null),r;default:return""+t}}(e.types[0].type,r[t])),e.cast=!0})}filter(e){return n.filter(this,e)}sort(e,t){let r=e;return t?(t=this.colNumber(t),"descending"===e&&(r=(e,t)=>t>e?1:t<e?-1:0),"ascending"===e&&(r=(e,t)=>t<e?1:t>e?-1:0),this.data.sort((e,n)=>r(e[t],n[t]))):this.data.sort(r),this}map(e,t){const r=e=>e;let n=function(){let t;switch(e){case"cumulate":t=(()=>{let e=0;return(t,r)=>(e+=+t,e)})();break;case"noop":t=r;break;default:t=e}return t}();const o=t?this.colNumber(t):void 0;return new l({colNames:this.colNames(),rows:this.data.map((e,t,r)=>(o?e[o]=n(e[o],o,t,r):r[t]=n(e,t,r),e)),name:this.getName()})}getMeta(e){if(this.meta[e])return this.meta[e].accessed=!0,this.meta[e]}setData(e,t,r=!0){this.meta=[],this.data=e.slice(),t&&t.forEach?(t.forEach(e=>this.colAdd(e)),r&&(t.forEach(e=>this.findTypes(e)),this.castData())):o.warn("invalid names setData:\n"+o.inspect(t,{depth:5}))}findTypes(e){const t=this.getMeta(e),r=[];Object.keys(l.type).forEach(e=>{const t={type:l.type[e],count:0};r.push(t),r[l.type[e]]=t});for(let t of this.allRows(e)){const e=c(t);null!==e&&r[e].count++}return r.sort((function(e,t){return"currency"===e.type&&e.count>0?-1:"currency"===t.type&&t.count>0?1:t.count-e.count})),t.types=r,r[0].type}*allRows(e){const t=this.colNumber(e);for(let e=0;e<this.data.length;e++)yield this.data[e][t]}}t.Data=l,l.type={number:"number",name:"name",date:"date",currency:"currency",percent:"percent"}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);t.timeout=n.timeout,t.delay=n.delay;var o=r(2);t.Pace=o.Pace;var a=r(6);t.shortCheckSum=a.shortCheckSum;var s=r(3);t.date=s.date,t.ms=s.ms;var i=r(7);t.Log=i.Log,function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(8))},function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))};function o(e){return t=>new Promise(r=>{setTimeout(()=>{r(t)},e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=function(e){return new Promise((t,r)=>{setTimeout(r,e)})},t.delay=o,t.Pace=class{constructor(e=100,t=-1){this.maxConcurrent=-1,this.pace=0,this.waitUntil=0,this.waiting=0,this.started=0,this.pace=e+5,this.maxConcurrent=t}setPace(e){this.pace=e}setMaxConcurrent(e){this.maxConcurrent=e}inQueue(){return this.waiting}inProgress(){return this.started}add(e){return n(this,void 0,void 0,(function*(){const t=Date.now();this.waitUntil<t&&(this.waitUntil=t);const r=Math.max(0,this.waitUntil-t);this.waitUntil+=this.pace+5,this.waiting++,yield o(r)(),yield new Promise(e=>{const t=()=>this.maxConcurrent<0||this.started<this.maxConcurrent?e():setTimeout(t,10);t()}),this.waiting--,this.started++;const n=yield e(Date.now()-t);return this.started--,n}))}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const n=[["Jan","January"],["Feb","February"],["Mar","March"],["Apr","April"],["May","May"],["Jun","June"],["Jul","July"],["Aug","August"],["Sep","September"],["Oct","October"],["Nov","November"],["Dec","December"]],o=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]];function a(e,t){let r=""+e;for(;r.length<t;)r="0"+r;return r}t.date=function(e,t=new Date){return"string"!=typeof e||isNaN(t.getTime())?"invalid":e.replace(/%YYYY/g,""+t.getFullYear()).replace(/%YY/g,""+t.getFullYear()%100).replace(/%MMMM/g,n[t.getMonth()][1]).replace(/%MMM/g,n[t.getMonth()][0]).replace(/%MM/g,a(t.getMonth()+1,2)).replace(/%M/g,""+(t.getMonth()+1)).replace(/%DDDD/g,o[t.getDay()][1]).replace(/%DDD/g,o[t.getDay()][0]).replace(/%DD/g,a(t.getDate(),2)).replace(/%D/g,""+t.getDate()).replace(/%hh/g,a(t.getHours(),2)).replace(/%h/g,""+t.getHours()).replace(/%mm/g,a(t.getMinutes(),2)).replace(/%m/g,""+t.getMinutes()).replace(/%ss/g,a(t.getSeconds(),2)).replace(/%jjj/g,a(t.getMilliseconds(),3)).replace(/%jj/g,a(t.getMilliseconds()/10,2)).replace(/%j/g,a(t.getMilliseconds()/100,1))},t.ms={fromMinutes:e=>6e4*e,fromHours:e=>36e5*e,fromDays:e=>864e5*e,fromWeeks:e=>6048e5*e,toMinutes:e=>e/6e4,toHours:e=>e/36e5,toDays:e=>e/864e5,toWeeks:e=>e/6048e5}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.Data=n.Data,t.Types=n.Types},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=new(r(1).Log)("DataFilters");function a(e,t,r,n){const a=n(e),s="function"==typeof t,i="object"==typeof t&&void 0!==t.length;return isNaN(a)?(o.warn(`column name '${e}' cannot be resolved in terminal condition ${e}=${t}`),o.warn(r),!1):s?t(r[a],r):i?0===t.length||t.some(e=>r[a]===e):r[a]===t}t.filter=function(e,t){const r=t=>e.colNumber(t);try{return new n.Data({name:e.getName(),colNames:e.colNames(),rows:e.getData().filter((e,n)=>function e(t,r,n,o,s){let i=!1,c=!0;if(void 0===t)return!0;if("number"==typeof t)return t===n;if("object"!=typeof t)return console.error("unrecognized condition: "+JSON.stringify(t)),!1;{const l=t;if(void 0!==l.length)return void 0===s&&(s=!1),0!==l.length&&(s?l.every(t=>e(t,r,n,o,s)):l.some(t=>e(t,r,n,o,s)));void 0===s&&(s=!0);for(const l in t){let u=s;const d=t;switch(l){case"or":u=e(d.or,r,n,o,!1);break;case"and":u=e(d.and,r,n,o,!0);break;case"not":u=!e(d.not,r,n,o);break;default:u=a(l,t[l],r,o)}if(u){if(i=!0,!s)break}else if(c=!1,s)break}}return s?c:i}(t,e,n,r))})}catch(e){o.warn(e),o.warn(e.stack)}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.shortCheckSum=function(e){let t=305419896;for(let r=0;r<e.length;r++)t+=e.charCodeAt(r)*(r+1);return(4294967295&t).toString(16)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),o={clear:"color:#000; background-color:inherit; font-weight:normal;",bold:"font-weight:bold;",dim:"",underscore:"",blink:"",reverse:"",hidden:"",black:"color:#000;",red:"color:#f00;",green:"color:#0f0;",yellow:"color:#ff0;",blue:"color:#00f;",magenta:"color:#f0f;",cyan:"color:#0ff;",white:"color:#fff;",darkred:"color:#800;",darkgreen:"color:#080;",darkyellow:"color:#880;",darkblue:"color:#008;",darkmagenta:"color:#808;",darkcyan:"color:#088;",gray:"color:#888;",bgBlack:"background-color:#000;",bgRed:"background-color:#f00;",bgGreen:"background-color:#0f0;",bgYellow:"background-color:#ff0;",bgBlue:"background-color:#00f;",bgMagenta:"background-color:#f0f;",bgCyan:"background-color:#0ff;",bgWhite:"background-color:#fff;"};class a{constructor(e){this.reportLevel=void 0,this.reportPrefix="",this.maxLength=-1,this.colors=!0,this.reportPrefix=e}set messageLength(e){this.maxLength=e}get messageLength(){return this.maxLength}level(e,t){let r=a.levels[e]||a.globalLevel,n=this.reportLevel||a.globalLevel;if(void 0===e)r=n;else if(null===e)this.reportLevel=void 0;else if(a.levels[e]){t?a.globalLevel=r:this.reportLevel=r;const e=`new ${t?"global":this.reportPrefix} log level ${r.desc.toUpperCase()} (was ${n.desc.toUpperCase()})`;r.sym===n.sym?this.debug(e):this.info(e)}else this.error(`unkown level ${e}; log level remains ${n.sym}`);return r.sym}debug(e){return this.out(a.DEBUG,{color:["gray"],msg:e})}progress(e){return this.out(a.INFO,{color:["darkblue"],msg:e})}info(e){return this.out(a.INFO,{color:["darkgreen"],msg:e})}warn(e){return this.out(a.WARN,{color:["darkyellow","bold"],msg:e})}error(e){const t=["darkred","bold"];return e.message?(this.out(a.ERROR,{color:t,msg:e.message}),this.out(a.ERROR,{color:t,msg:e.stack}),e.message):this.out(a.ERROR,{color:t,msg:e})}out(e,t){let r=a.levels[e];const o=this.reportLevel||a.globalLevel;if(r.importance>=o.importance){let e;switch(typeof t.msg){case"function":e=t.msg();break;case"string":e=t.msg;break;case"object":default:e=this.inspect(t.msg)}const o=n.date(a.dateFormat);e.length>this.maxLength&&this.maxLength>0&&(e=`${e.slice(0,this.maxLength/2-2)}...${e.slice(-this.maxLength/2+2)}`),t&&t.msg.stack&&(e=`${e}\n${t.msg.stack}`);const s=`${o} ${this.reportPrefix} ${r.desc}`;return this.output(t.color,s,e),e}}output(e,t,r){console.log(`%c${t}%c ${r}`,e.map(e=>o[e]).join(" "),o.clear)}format(e){return null===e?a.dateFormat=a.defDateFormat:e&&(a.dateFormat=e),a.dateFormat}prefix(e){return e&&(this.reportPrefix=e),this.reportPrefix}config(e){void 0!==e.format&&this.format(e.format),void 0!==e.level&&this.level(e.level),void 0!==e.colors&&(this.colors=e.colors)}inspect(e,{depth:t=-1,indent:r="   ",colors:n=a.INDENT_COLORS}={depth:0,indent:"   ",colors:a.INDENT_COLORS}){const o=this;return function e(t,a,s,i){if(null===t)return"null";if(void 0===t)return"undefined";if("function"==typeof t)return"function";if("string"==typeof t)return`'${t}'`;if("object"==typeof t){if(a<0)return void 0===t.length?"{...}":"[...]";if(void 0!==t.map)return`[${t.map(t=>void 0===t?"":e(t,a-1,s+1,i)).join(", ")}]`;const[c,l,u,d]=o.getPrePostfix(r,s,i,n);return"{"+u+Object.keys(t).map(n=>`${c}${n}${l}: ${e(t[n],a-1,s+1,i+r)}`).join(","+u)+`${u}${d}}`}return t.toString()}(e,null!=t&&t>=0?t:999,0,"")}getPrePostfix(e,t,r,n){let a="",s="",i="\n";return n&&(e=e.replace(/ /g,"&nbsp;"),r=r.replace(/ /g,"&nbsp;"),a=`<b><span style='${o[n[t%n.length]]||n[t%n.length]}'>`,s="</span></b>",i="<br>"),[`${r}${e}${a}`,""+s,n?"<br>":"\n",r]}}t.Log=a,a.INDENT_COLORS=["darkblue","darkgreen","darkred","darkcyan","darkyellow","darkmagenta"],a.defDateFormat="%YYYY%MM%DD %hh:%mm:%ss.%jjj",a.dateFormat=a.defDateFormat,a.DEBUG="DEBUG",a.INFO="INFO",a.WARN="WARN",a.ERROR="ERROR",a.levels={[a.DEBUG]:{importance:0,sym:a.DEBUG,desc:"DEBUG"},[a.INFO]:{importance:1,sym:a.INFO,desc:"INFO"},[a.WARN]:{importance:2,sym:a.WARN,desc:"WARN"},[a.ERROR]:{importance:3,sym:a.ERROR,desc:"ERROR"}},a.log=new a(""),a.globalLevel=a.levels[a.INFO]},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.uniquefy=function(e,t){const r={};return t?e.filter(e=>!r[e[""+t]]&&(r[e[""+t]]=!0)):e.filter(e=>!r[""+e]&&(r[""+e]=!0))}}]);